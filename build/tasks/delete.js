// Generated by CoffeeScript 1.3.3
/*global module, require
*/

module.exports = function(grunt) {
  var deleteDirectory, deleteFiles, fs, isDirectory, rimraf;
  fs = require('fs');
  rimraf = require('rimraf');
  deleteDirectory = function(path) {
    return rimraf.sync(path);
  };
  deleteFiles = function(path) {
    var files;
    files = grunt.file.expandFiles(path);
    return files.forEach(function(file) {
      return fs.unlinkSync(file);
    });
  };
  isDirectory = function(path) {
    var isDestADirectory, stats;
    isDestADirectory = true;
    try {
      stats = fs.statSync(path);
    } catch (error) {
      isDestADirectory = false;
    }
    return isDestADirectory;
  };
  return grunt.registerMultiTask('delete', 'Deletes a directory', function() {
    var dest, isDestADirectory;
    dest = this.file.dest;
    if (!fs.existsSync(dest)) {
      return;
    }
    isDestADirectory = isDirectory(dest);
    if (isDestADirectory) {
      return deleteDirectory(dest);
    } else {
      return deleteFiles(dest);
    }
  });
};
